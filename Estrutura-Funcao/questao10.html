<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Estrutura Função - Questão 10</title>
	</head>
	<body>
        <script type="text/javascript">
        /*Jogo de Craps. Faça um programa de implemente um jogo de Craps. O jogador lança um par de dados, obtendo um valor entre 2 e 12. Se, na primeira jogada, você tirar 7 ou 11, você um "natural" e ganhou. Se você tirar 2, 3 ou 12 na primeira jogada, isto é chamado de "craps" e você perdeu. Se, na primeira jogada, você fez um 4, 5, 6, 8, 9 ou 10,este é seu "Ponto". Seu objetivo agora é continuar jogando os dados até tirar este número novamente. Você perde, no entanto, se tirar um 7 antes de tirar este Ponto novamente.*/

        let jogada = 0;
        let resultado = true;
        do {
            let dado1 = Math.floor(Math.random() * 6) + 1;
            let dado2 = Math.floor(Math.random() * 6) + 1;
            let soma = dado1 + dado2;        
            alert('Dado 1 > ' + dado1 + '\nDado 2 > ' + dado2 + '\nSoma > '+ soma);
            if (jogada < 1) {
                var anterior = soma;
            }
            resultado = jogoScraps(soma, jogada, anterior);
            jogada++
        } while (resultado == true);

        function jogoScraps (soma, jogada, anterior) {      
           
            switch (soma) {
                case 7: 
                    if (jogada < 1) {
                        alert('Resultado '+ soma + ' Jogada '+ jogada + '\nNatural!\nVocê ganhou!');
                        resultado = false;
                    }
                    else {
                        alert('Resultado '+ soma + ' Jogada '+ jogada + '\nTerminou o jogo');
                        resultado = false;
                    }
                    break;
                case 11: 
                    if (jogada < 1) {
                        alert('Resultado '+ soma + ' Jogada '+ jogada + '\nNatural!\nVocê ganhou!');
                        resultado = false;
                    }
                    else {
                        alert('Resultado '+ soma + ' Jogada '+ jogada + '\nNatural!\nContinua o jogo');
                        resultado = true;
                    }
                    break;
                case 2: case 3: case 12:
                    if (jogada < 1) {
                        alert('Resultado '+ soma + ' Jogada '+ jogada + '\nCraps\nVocê perdeu!');
                        resultado = false;
                    }
                    else {
                        alert('Resultado '+ soma + ' Jogada '+ jogada + '\nCraps\nContinua o jogo');
                        resultado = true;
                    }
                    break;
                case 4: case 5: case 6: case 8: case 9: case 10: 
                    if (jogada < 1) {
                        alert('Resultado '+ soma + ' Jogada '+ jogada + '\nPonto\nContinua o jogo');
                        resultado = true;
                    }
                    else {
                        alert('Resultado '+ soma + ' Jogada ' + jogada + '\nPonto\nTermina o jogo');
                        if (anterior == soma) {
                            resultado = false;
                        }
                        else {
                            alert('Resultado '+ soma + ' Jogada ' + jogada + '\nPonto\nContinua o jogo');
                            resultado = true;
                        }
                    }
                    break;
            }
            return(resultado);
        }
		</script>	
	</body>
</html>